import streamlit as st
import math

# æ–°äººå‘ã‘æ–½è¡“ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã¨æ™‚é–“ï¼ˆåˆ†ï¼‰
menu_items = [
    ("ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°", 5, 10, "10åˆ†ä»¥å†…ã‚’ç›®æ¨™ã«ã€‚ã¾ãšã¯1æœ¬1åˆ†ã§æ•´ãˆã‚‹ç·´ç¿’ã‹ã‚‰ã€‚"),
    ("ç”˜çš®å‡¦ç†", 5, 10, "æŠ¼ã—ä¸Šã’ï¼‹ãƒ‹ãƒƒãƒ‘ãƒ¼ã§ç‰‡æ‰‹5åˆ†ã‚’ç›®å®‰ã€‚ä¸å¯§ã•å„ªå…ˆã€‚"),
    ("ã‚µãƒ³ãƒ‡ã‚£ãƒ³ã‚°", 5, 10, "ç‰‡æ‰‹2åˆ†åŠãšã¤ã€‚å…¨ä½“ã‚’ã¾ã‚“ã¹ã‚“ãªãå‰Šã‚Œã‚‹ã‹æ„è­˜ã€‚"),
    ("ãƒ™ãƒ¼ã‚¹å¡—å¸ƒï¼‹ç¡¬åŒ–", 10, 15, "åšã¿ã‚’å‡ä¸€ã«å¡—ã£ã¦10åˆ†ä»¥å†…ã€‚ã¯ã¿å‡ºã—ç¢ºèªã‚‚å¿˜ã‚Œãšã«ã€‚"),
    ("ã‚«ãƒ©ãƒ¼2åº¦å¡—ï¼‹ç¡¬åŒ–", 10, 20, "1åº¦å¡—ã‚Š10åˆ†ï¼‹2åº¦ç›®10åˆ†ãŒç†æƒ³ã€‚ãƒ ãƒ©ã‚’ãªãã™ç·´ç¿’ã‚’ã€‚"),
    ("ãƒ•ãƒ¬ãƒ³ãƒï¼ã‚°ãƒ©ãƒ‡", 15, 20, "é€šå¸¸ã‚«ãƒ©ãƒ¼ã«è¿½åŠ 10åˆ†ã€‚ãƒ©ã‚¤ãƒ³å–ã‚Šã«é›†ä¸­ã—ã¦ç·´ç¿’ã€‚"),
    ("è»½ã‚ã‚¢ãƒ¼ãƒˆ2æœ¬", 15, 15, "ã‚¹ãƒˆãƒ¼ãƒ³ã‚„ç°¡å˜ãªãƒ©ãƒ¡ãªã‚‰ç‰‡æ‰‹7ã€œ8åˆ†ã€‚å·¦å³å·®ã«æ³¨æ„ã€‚"),
    ("è¤‡é›‘ã‚¢ãƒ¼ãƒˆ", 30, 45, "æ‰‹æããƒ»åŸ‹ã‚è¾¼ã¿ãªã©ã¯30åˆ†ä»¥ä¸Šã‚‚OKã€‚æ­£ç¢ºã•é‡è¦–ã§ã€‚"),
    ("ã‚¹ãƒˆãƒ¼ãƒ³é…ç½®", 5, 10, "ãƒãƒ©ãƒ³ã‚¹ãƒ»é…ç½®ãƒŸã‚¹é˜²æ­¢ã‚’æ„è­˜ã—ã¦ä¸å¯§ã«ã€‚"),
    ("ãƒˆãƒƒãƒ—å¡—å¸ƒï¼‹ç¡¬åŒ–", 10, 20, "å‡¹å‡¸ã‚’è¦†ã†æ„è­˜ã§å¡—ã£ã¦10åˆ†ä»¥å†…ã€‚æµã‚Œã‚„ã™ã„ã®ã§æ³¨æ„ã€‚"),
    ("æ‹­ãå–ã‚Šä»•ä¸Šã’", 3, 3, "æœªç¡¬åŒ–ã‚¸ã‚§ãƒ«ã®æ‹­ãæ®‹ã—ãŒãªã„ã‹ä¸å¯§ã«ã€‚"),
    ("ã‚ªã‚¤ãƒ«ï¼‹ãƒãƒƒã‚µãƒ¼ã‚¸", 1, 3, "1æœ¬10ç§’Ã—10æœ¬ã§2åˆ†ï¼‹å…¨ä½“ä»•ä¸Šã’3åˆ†ãŒç›®å®‰ã€‚"),
    ("ã‚ªãƒ•ï¼ˆè‡ªåº—ï¼‰", 10, 15, "ãƒ•ã‚£ãƒ«ã‚¤ãƒ³ãªã®ã§ï¼‘æœ¬1åˆ†ç›®å®‰ã€å¾…ã¡æ™‚é–“ä¸è¦ã€‚ãƒ‘ãƒ¼ãƒ„ã‚ªãƒ•è¾¼ã¿ã§ç›®æ¨™ã€‚"),
    ("ã‚ªãƒ•ï¼ˆä»–åº—ï¼‰", 40, 45, "åšã¿ã®ã‚ã‚‹ã‚¸ã‚§ãƒ«ã‚„å¼·ã„ãƒ™ãƒ¼ã‚¹ã«ã¯ä½™è£•ã‚’æŒã£ã¦å¯¾å¿œã€‚")
]

if "selected" not in st.session_state:
    st.session_state.selected = []

st.title("ãƒã‚¤ãƒ«æ–½è¡“ ç·´ç¿’ç”¨ã‚¿ã‚¤ãƒ ç›®å®‰ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼")

cols = st.columns(2)
for i, (name, min_t, max_t, memo) in enumerate(menu_items):
    col = cols[i % 2]
    with col:
        checked = st.checkbox(name, key=name)
        if checked and name not in st.session_state.selected:
            st.session_state.selected.append(name)
        elif not checked and name in st.session_state.selected:
            st.session_state.selected.remove(name)
        st.caption(memo)

# åˆè¨ˆæ™‚é–“ã®è¨ˆç®—
selected_items = [item for item in menu_items if item[0] in st.session_state.selected]
total_min = sum(item[1] for item in selected_items)
total_max = sum(item[2] for item in selected_items)

# ä¸‹éƒ¨ã«åˆè¨ˆæ™‚é–“ã¨é¸æŠãƒ¡ãƒ‹ãƒ¥ãƒ¼è¡¨ç¤º
st.markdown("---")
st.subheader("ğŸ§® åˆè¨ˆæ™‚é–“")
st.markdown(f"æ–°äººã®ç›®æ¨™æ™‚é–“ï¼š**{total_min}ã€œ{total_max}åˆ†**")

if selected_items:
    st.subheader("ğŸ“ é¸æŠä¸­ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼")
    for name, min_t, max_t, _ in selected_items:
        st.markdown(f"{name:<25}ï¼ˆ{min_t}ã€œ{max_t}åˆ†ï¼‰")
